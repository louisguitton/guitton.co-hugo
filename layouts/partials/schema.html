{{/*  https://dev.to/pdwarkanath/adding-structured-data-to-your-hugo-site-58db  */}}
{{/*  https://developers.google.com/search/docs/data-types/article  */}}
{{/*  https://search.google.com/test/rich-results  */}}
{{/*  https://gohugo.io/templates/section-templates/#page-kinds  */}}
{{ if and (eq .Section "posts") (not (eq .Kind "section"))}}
<script type="application/ld+json">
    {
        "@context": "https://schema.org",
        "@type": "BlogPosting",
        "headline": {{ .Title }},
        "image": {{ .Params.featuredImage | absURL }},
        "datePublished": {{ .PublishDate }},
        "dateModified": {{ .Lastmod }},
        "author": {
            "@type": "Person",
            "name": {{ .Site.Params.author }}
        },
        "mainEntityOfPage": { "@type": "WebPage" },
        "publisher": {
            "@type": "Organization",
            "name": {{ .Site.Params.publisher_name }},
            "url": {{ .Site.BaseURL }},
            "sameAs": [{{ range $i, $e := .Site.Params.Social }}{{ if $i }}, {{ end }}{{ $e.url }}{{ end }}],
            "logo": {{ .Site.Params.avatarurl | absURL  }}
        },
        "description": {{ .Summary | plainify | safeHTML }},
        "keywords": [{{ range $i, $e := .Keywords }}{{ if $i }}, {{ end }}{{ $e }}{{ end }}],
        "wordcount": {{ .WordCount }}
    }
</script>
{{ else }}
{{/*  Blog or WebSite could also work here  */}}
<script type="application/ld+json">
    {
        "@context": "https://schema.org",
        "@type": "Organization",
        "name": {{ .Site.Params.publisher_name }},
        "url": {{ .Site.BaseURL }},
        "sameAs": [{{ range $i, $e := .Site.Params.Social }}{{ if $i }}, {{ end }}{{ $e.url }}{{ end }}],
        "logo": {{ .Site.Params.avatarurl | absURL  }}
    }
</script>
{{ end }}
